# ranger is a console file manager with VI key bindings.
# https://ranger.github.io/

# Keyinding map 'gt' for invoking tig on selected directory.
map gt shell tig -C %f

set draw_borders true
set column_ratios 1,1,1,1

# Enable image previews using iTerm2's imgcat
set preview_images true
set preview_images_method iterm2

# Let's use imgcat to view images on the terminal
map f shell -w ~/.config/ranger/scripts/fullimg_fit.sh %f
map F shell -w ~/.config/ranger/scripts/fullimg.sh %f

# zp → preview-heavy (no parent column)
map zp set column_ratios 1,3

# zn → normal
map zn set column_ratios 1,1,1,1

# HACK: Configured these values so that imgcat previews fit well in the preview pane.
set iterm2_font_width 12
set iterm2_font_height 21

# Enter: go into directories; for files, do nothing (show a hint)
map <enter> eval fm.enter_dir(fm.thisfile.path) if fm.thisfile.is_directory else fm.notify("Press o to open", bad=True)

# Right arrow: same behavior as Enter
map <right>  eval fm.enter_dir(fm.thisfile.path) if fm.thisfile.is_directory else fm.notify("Press o to open", bad=True)

# Open the focused file with rifle’s default rule
map o shell rifle %f

# Open all marked files (if any) via rifle
map O shell rifle %s
