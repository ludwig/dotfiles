# Add the following to one of your bash init files:
#   export PYTHONSTARTUP="${HOME}/.pythonrc"
#
# See https://news.ycombinator.com/item?id=5658062
#
AP_AUTOCOMPLETE = False
try:
    import readline
except ImportError:
    print "Module readline unavailable"
else:
    import sys
    import rlcompleter
    readline.parse_and_bind("tab: complete")
    if sys.platform == 'darwin':
        readline.parse_and_bind("bind ^I rl_complete")

    class MyCompleter(rlcompleter.Completer):
        def complete(self, text, state):
            if text.lstrip() == '':
                if state == 0:
                    return text + '\t'
                else:
                    return None
            else:
                return rlcompleter.Completer.complete(self, text, state)

    readline.set_completer(MyCompleter().complete)

    AP_AUTOCOMPLETE = True

# vim: ft=python
